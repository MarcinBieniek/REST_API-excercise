{"ast":null,"code":"var _jsxFileName = \"/Users/marcin/Desktop/K2022/32-RestApi-Excercise/client/src/components/features/SeatChooser/SeatChooser.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button, Progress, Alert } from 'reactstrap';\nimport { getSeats, loadSeatsRequest, getRequests } from '../../../redux/seatsRedux';\nimport './SeatChooser.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SeatChooser = _ref => {\n  _s();\n\n  let {\n    chosenDay,\n    chosenSeat,\n    updateSeat\n  } = _ref;\n  const dispatch = useDispatch();\n  const seats = useSelector(getSeats);\n  const requests = useSelector(getRequests);\n  useEffect(() => {\n    dispatch(loadSeatsRequest());\n  }, [dispatch]);\n\n  const isTaken = seatId => {\n    return seats.some(item => item.seat === seatId && item.day === chosenDay);\n  };\n\n  const prepareSeat = seatId => {\n    if (seatId === chosenSeat) return /*#__PURE__*/_jsxDEV(Button, {\n      className: \"seats__seat\",\n      color: \"primary\",\n      children: seatId\n    }, seatId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 38\n    }, this);else if (isTaken(seatId)) return /*#__PURE__*/_jsxDEV(Button, {\n      className: \"seats__seat\",\n      disabled: true,\n      color: \"secondary\",\n      children: seatId\n    }, seatId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 37\n    }, this);else return /*#__PURE__*/_jsxDEV(Button, {\n      color: \"primary\",\n      className: \"seats__seat\",\n      outline: true,\n      onClick: e => updateSeat(e, seatId),\n      children: seatId\n    }, seatId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 17\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Pick a seat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n      id: \"pickHelp\",\n      className: \"form-text text-muted ml-2\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 66\n      }, this), \" \\u2013 seat is already taken\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n      id: \"pickHelpTwo\",\n      className: \"form-text text-muted ml-2 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        outline: true,\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 74\n      }, this), \" \\u2013 it's empty\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), requests['LOAD_SEATS'] && requests['LOAD_SEATS'].success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seats\",\n      children: [...Array(50)].map((x, i) => prepareSeat(i + 1))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 71\n    }, this), requests['LOAD_SEATS'] && requests['LOAD_SEATS'].pending && /*#__PURE__*/_jsxDEV(Progress, {\n      animated: true,\n      color: \"primary\",\n      value: 50\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 71\n    }, this), requests['LOAD_SEATS'] && requests['LOAD_SEATS'].error && /*#__PURE__*/_jsxDEV(Alert, {\n      color: \"warning\",\n      children: \"Couldn't load seats...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 69\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SeatChooser, \"0IkzARkHiXEX4riuasH1nXQ/klo=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = SeatChooser;\nexport default SeatChooser;\n\nvar _c;\n\n$RefreshReg$(_c, \"SeatChooser\");","map":{"version":3,"names":["useEffect","useDispatch","useSelector","Button","Progress","Alert","getSeats","loadSeatsRequest","getRequests","SeatChooser","chosenDay","chosenSeat","updateSeat","dispatch","seats","requests","isTaken","seatId","some","item","seat","day","prepareSeat","e","success","Array","map","x","i","pending","error"],"sources":["/Users/marcin/Desktop/K2022/32-RestApi-Excercise/client/src/components/features/SeatChooser/SeatChooser.js"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, Progress, Alert } from 'reactstrap';\r\nimport { getSeats, loadSeatsRequest, getRequests } from '../../../redux/seatsRedux';\r\nimport './SeatChooser.scss';\r\n\r\nconst SeatChooser = ({ chosenDay, chosenSeat, updateSeat }) => {\r\n  const dispatch = useDispatch();\r\n  const seats = useSelector(getSeats);\r\n  const requests = useSelector(getRequests);\r\n  \r\n  useEffect(() => {\r\n    dispatch(loadSeatsRequest());\r\n  }, [dispatch])\r\n\r\n  const isTaken = (seatId) => {\r\n    return (seats.some(item => (item.seat === seatId && item.day === chosenDay)));\r\n  }\r\n\r\n  const prepareSeat = (seatId) => {\r\n    if(seatId === chosenSeat) return <Button key={seatId} className=\"seats__seat\" color=\"primary\">{seatId}</Button>;\r\n    else if(isTaken(seatId)) return <Button key={seatId} className=\"seats__seat\" disabled color=\"secondary\">{seatId}</Button>;\r\n    else return <Button key={seatId} color=\"primary\" className=\"seats__seat\" outline onClick={(e) => updateSeat(e, seatId)}>{seatId}</Button>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>Pick a seat</h3>\r\n      <small id=\"pickHelp\" className=\"form-text text-muted ml-2\"><Button color=\"secondary\" /> – seat is already taken</small>\r\n      <small id=\"pickHelpTwo\" className=\"form-text text-muted ml-2 mb-4\"><Button outline color=\"primary\" /> – it's empty</small>\r\n      { (requests['LOAD_SEATS'] && requests['LOAD_SEATS'].success) && <div className=\"seats\">{[...Array(50)].map((x, i) => prepareSeat(i+1) )}</div>}\r\n      { (requests['LOAD_SEATS'] && requests['LOAD_SEATS'].pending) && <Progress animated color=\"primary\" value={50} /> }\r\n      { (requests['LOAD_SEATS'] && requests['LOAD_SEATS'].error) && <Alert color=\"warning\">Couldn't load seats...</Alert> }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SeatChooser;"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,KAA3B,QAAwC,YAAxC;AACA,SAASC,QAAT,EAAmBC,gBAAnB,EAAqCC,WAArC,QAAwD,2BAAxD;AACA,OAAO,oBAAP;;;AAEA,MAAMC,WAAW,GAAG,QAA2C;EAAA;;EAAA,IAA1C;IAAEC,SAAF;IAAaC,UAAb;IAAyBC;EAAzB,CAA0C;EAC7D,MAAMC,QAAQ,GAAGZ,WAAW,EAA5B;EACA,MAAMa,KAAK,GAAGZ,WAAW,CAACI,QAAD,CAAzB;EACA,MAAMS,QAAQ,GAAGb,WAAW,CAACM,WAAD,CAA5B;EAEAR,SAAS,CAAC,MAAM;IACda,QAAQ,CAACN,gBAAgB,EAAjB,CAAR;EACD,CAFQ,EAEN,CAACM,QAAD,CAFM,CAAT;;EAIA,MAAMG,OAAO,GAAIC,MAAD,IAAY;IAC1B,OAAQH,KAAK,CAACI,IAAN,CAAWC,IAAI,IAAKA,IAAI,CAACC,IAAL,KAAcH,MAAd,IAAwBE,IAAI,CAACE,GAAL,KAAaX,SAAzD,CAAR;EACD,CAFD;;EAIA,MAAMY,WAAW,GAAIL,MAAD,IAAY;IAC9B,IAAGA,MAAM,KAAKN,UAAd,EAA0B,oBAAO,QAAC,MAAD;MAAqB,SAAS,EAAC,aAA/B;MAA6C,KAAK,EAAC,SAAnD;MAAA,UAA8DM;IAA9D,GAAaA,MAAb;MAAA;MAAA;MAAA;IAAA,QAAP,CAA1B,KACK,IAAGD,OAAO,CAACC,MAAD,CAAV,EAAoB,oBAAO,QAAC,MAAD;MAAqB,SAAS,EAAC,aAA/B;MAA6C,QAAQ,MAArD;MAAsD,KAAK,EAAC,WAA5D;MAAA,UAAyEA;IAAzE,GAAaA,MAAb;MAAA;MAAA;MAAA;IAAA,QAAP,CAApB,KACA,oBAAO,QAAC,MAAD;MAAqB,KAAK,EAAC,SAA3B;MAAqC,SAAS,EAAC,aAA/C;MAA6D,OAAO,MAApE;MAAqE,OAAO,EAAGM,CAAD,IAAOX,UAAU,CAACW,CAAD,EAAIN,MAAJ,CAA/F;MAAA,UAA6GA;IAA7G,GAAaA,MAAb;MAAA;MAAA;MAAA;IAAA,QAAP;EACN,CAJD;;EAMA,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAO,EAAE,EAAC,UAAV;MAAqB,SAAS,EAAC,2BAA/B;MAAA,wBAA2D,QAAC,MAAD;QAAQ,KAAK,EAAC;MAAd;QAAA;QAAA;QAAA;MAAA,QAA3D;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,eAGE;MAAO,EAAE,EAAC,aAAV;MAAwB,SAAS,EAAC,gCAAlC;MAAA,wBAAmE,QAAC,MAAD;QAAQ,OAAO,MAAf;QAAgB,KAAK,EAAC;MAAtB;QAAA;QAAA;QAAA;MAAA,QAAnE;IAAA;MAAA;MAAA;MAAA;IAAA,QAHF,EAIKF,QAAQ,CAAC,YAAD,CAAR,IAA0BA,QAAQ,CAAC,YAAD,CAAR,CAAuBS,OAAlD,iBAA8D;MAAK,SAAS,EAAC,OAAf;MAAA,UAAwB,CAAC,GAAGC,KAAK,CAAC,EAAD,CAAT,EAAeC,GAAf,CAAmB,CAACC,CAAD,EAAIC,CAAJ,KAAUN,WAAW,CAACM,CAAC,GAAC,CAAH,CAAxC;IAAxB;MAAA;MAAA;MAAA;IAAA,QAJlE,EAKKb,QAAQ,CAAC,YAAD,CAAR,IAA0BA,QAAQ,CAAC,YAAD,CAAR,CAAuBc,OAAlD,iBAA8D,QAAC,QAAD;MAAU,QAAQ,MAAlB;MAAmB,KAAK,EAAC,SAAzB;MAAmC,KAAK,EAAE;IAA1C;MAAA;MAAA;MAAA;IAAA,QALlE,EAMKd,QAAQ,CAAC,YAAD,CAAR,IAA0BA,QAAQ,CAAC,YAAD,CAAR,CAAuBe,KAAlD,iBAA4D,QAAC,KAAD;MAAO,KAAK,EAAC,SAAb;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QANhE;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAUD,CA7BD;;GAAMrB,W;UACaR,W,EACHC,W,EACGA,W;;;KAHbO,W;AA+BN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}